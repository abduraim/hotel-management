{"version":3,"sources":["webpack:///resources/js/views/rooms/RoomsIndex.vue","webpack:///./resources/js/views/rooms/RoomsIndex.vue?1087","webpack:///./resources/js/views/rooms/RoomsIndex.vue?cfbf","webpack:///./resources/js/views/rooms/RoomsIndex.vue?3cba","webpack:///./resources/js/components/helpers.js","webpack:///./resources/js/views/rooms/RoomsIndex.vue","webpack:///./resources/js/views/rooms/RoomsIndex.vue?9bee","webpack:///./resources/js/views/rooms/RoomsIndex.vue?6b5f","webpack:///./resources/js/views/rooms/RoomsIndex.vue?64ba"],"names":["showSuccessMessage","text","Message","type","message","showClose","handleError","error","response","status","console","log"],"mappings":"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","file":"0.js","sourcesContent":["<template>\n\n    <el-container v-loading=\"isLoading\" direction=\"vertical\">\n\n        <h3>Номера</h3>\n\n        <div class=\"controls\">\n            <el-button size=\"small\" circle icon=\"el-icon-plus\" type=\"primary\" title=\"Добавить номер\" @click=\"$router.push({ name: 'rooms-create' })\"></el-button>\n        </div>\n\n        <el-card class=\"room-card\" v-for=\"room in roomsList\" :key=\"room.id\">\n\n            <div slot=\"header\" class=\"clearfix\">\n                <span class=\"card-header__room-name\">{{room.name}}</span>\n                <div class=\"card-header__controls\">\n                    <el-button size=\"small\" circle icon=\"el-icon-edit\" type=\"warning\" title=\"Редактировать\" @click=\"$router.push({ name: 'rooms-edit', params: {id: room.id} })\"></el-button>\n                    <el-button size=\"small\" circle icon=\"el-icon-delete\" type=\"danger\" title=\"Удалить номер\" @click=\"deleteRoom(room)\"></el-button>\n                </div>\n            </div>\n\n            <el-switch\n                v-model=\"room.status\"\n                active-text=\"Вкл.\"\n                inactive-text=\"Выкл.\"\n                @change=\"changeRoomStatus(room)\"\n            ></el-switch>\n\n        </el-card>\n\n    </el-container>\n\n</template>\n\n<script>\n\n    import Helpers from '../../components/helpers';\n\n    export default {\n        name: \"RoomsIndex\",\n        data() {\n            return {\n                Helpers,\n                isLoading: false,   // Флаг отображения загрузки\n                roomsList: [],      // Список номеров\n            }\n        },\n        methods: {\n\n            // Получение всех номеров отеля\n            getRooms() {\n                this.isLoading = true;\n                axios\n                    .get('/api/rooms')\n                    .then(response => {\n                        this.roomsList = response.data;\n                        this.isLoading = false;\n                    })\n                    .catch(error => {\n                        Helpers.handleError(error);\n                    })\n            },\n\n            // Изменение статуса Вкл./Выкл. у номера\n            changeRoomStatus(room) {\n\n                this.isLoading = true;\n\n                axios\n                    .post('/api/rooms/change-status/', room)\n                    .then (response => {\n                        this.isLoading = false;\n                        Helpers.showSuccessMessage('Статус номера успешно изменен!');\n                    })\n                    .catch(error => {\n                        this.isLoading = false;\n                        Helpers.handleError(error);\n                    });\n\n            },\n\n            // Удалить номер\n            deleteRoom(room) {\n\n                this.$confirm(`Вы действительно хотите удалить номер ${room.name}?`, 'Warning', {\n                    confirmButtonText: 'Да',\n                    cancelButtonText: 'Отмена',\n                    type: 'warning'\n                }).then(() => {\n\n                    this.isLoading = true;\n\n                    axios\n                        .delete('api/rooms/' + room.id)\n                        .then(response => {\n                            this.isLoading = false;\n                            Helpers.showSuccessMessage('Номер успешно удален!');\n                            this.getRooms();\n                        })\n                        .catch(error => {\n                            this.isLoading = false;\n                            Helpers.handleError(error);\n                        });\n\n\n                }).catch(() => {\n                    // Клик по кнопке Отмена\n                });\n\n            },\n\n        },\n        mounted() {\n            this.getRooms();\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n\n    .controls {\n        margin-bottom: 20px;\n    }\n\n    .room-card {\n        margin-bottom: 20px;\n\n        .card-header__room-name {\n            font-size: 20px;\n        }\n\n        .card-header__controls {\n            float: right;\n        }\n    }\n\n</style>\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".controls {\\n  margin-bottom: 20px;\\n}\\n.room-card {\\n  margin-bottom: 20px;\\n}\\n.room-card .card-header__room-name {\\n  font-size: 20px;\\n}\\n.room-card .card-header__controls {\\n  float: right;\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-container\",\n    {\n      directives: [\n        {\n          name: \"loading\",\n          rawName: \"v-loading\",\n          value: _vm.isLoading,\n          expression: \"isLoading\"\n        }\n      ],\n      attrs: { direction: \"vertical\" }\n    },\n    [\n      _c(\"h3\", [_vm._v(\"Номера\")]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"controls\" },\n        [\n          _c(\"el-button\", {\n            attrs: {\n              size: \"small\",\n              circle: \"\",\n              icon: \"el-icon-plus\",\n              type: \"primary\",\n              title: \"Добавить номер\"\n            },\n            on: {\n              click: function($event) {\n                return _vm.$router.push({ name: \"rooms-create\" })\n              }\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm._l(_vm.roomsList, function(room) {\n        return _c(\n          \"el-card\",\n          { key: room.id, staticClass: \"room-card\" },\n          [\n            _c(\n              \"div\",\n              {\n                staticClass: \"clearfix\",\n                attrs: { slot: \"header\" },\n                slot: \"header\"\n              },\n              [\n                _c(\"span\", { staticClass: \"card-header__room-name\" }, [\n                  _vm._v(_vm._s(room.name))\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"card-header__controls\" },\n                  [\n                    _c(\"el-button\", {\n                      attrs: {\n                        size: \"small\",\n                        circle: \"\",\n                        icon: \"el-icon-edit\",\n                        type: \"warning\",\n                        title: \"Редактировать\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.$router.push({\n                            name: \"rooms-edit\",\n                            params: { id: room.id }\n                          })\n                        }\n                      }\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"el-button\", {\n                      attrs: {\n                        size: \"small\",\n                        circle: \"\",\n                        icon: \"el-icon-delete\",\n                        type: \"danger\",\n                        title: \"Удалить номер\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.deleteRoom(room)\n                        }\n                      }\n                    })\n                  ],\n                  1\n                )\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"el-switch\", {\n              attrs: { \"active-text\": \"Вкл.\", \"inactive-text\": \"Выкл.\" },\n              on: {\n                change: function($event) {\n                  return _vm.changeRoomStatus(room)\n                }\n              },\n              model: {\n                value: room.status,\n                callback: function($$v) {\n                  _vm.$set(room, \"status\", $$v)\n                },\n                expression: \"room.status\"\n              }\n            })\n          ],\n          1\n        )\n      })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import {Message} from 'element-ui';\n\nexport default {\n\n    // Показать сообщение об успешном выполнении чего-либо\n    showSuccessMessage(text) {\n        Message({\n            type: 'success',\n            message: text,\n            showClose: true,\n        });\n    },\n\n    // Обработка ошибочного ответа\n    handleError(error) {\n        Message({\n            type: 'error',\n            message: `Произошла ошибка! (код: ${error.response.status})`,\n            showClose: true,\n        });\n        console.log(error.response);\n    },\n\n}\n","import { render, staticRenderFns } from \"./RoomsIndex.vue?vue&type=template&id=1b6d88d0&\"\nimport script from \"./RoomsIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsIndex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/at/PhpstormProjects/hotel-management.local/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1b6d88d0')) {\n      api.createRecord('1b6d88d0', component.options)\n    } else {\n      api.reload('1b6d88d0', component.options)\n    }\n    module.hot.accept(\"./RoomsIndex.vue?vue&type=template&id=1b6d88d0&\", function () {\n      api.rerender('1b6d88d0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/rooms/RoomsIndex.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=template&id=1b6d88d0&\""],"sourceRoot":""}