{"version":3,"sources":["webpack:///resources/js/views/rooms/RoomsIndex.vue","webpack:///./resources/js/views/rooms/RoomsIndex.vue?1087","webpack:///./resources/js/views/rooms/RoomsIndex.vue?cfbf","webpack:///./resources/js/views/rooms/RoomsIndex.vue?3cba","webpack:///./resources/js/views/rooms/RoomsIndex.vue","webpack:///./resources/js/views/rooms/RoomsIndex.vue?9bee","webpack:///./resources/js/views/rooms/RoomsIndex.vue?6b5f","webpack:///./resources/js/views/rooms/RoomsIndex.vue?64ba"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AAEA;AACA,oBADA;AAEA,MAFA,kBAEA;AACA;AACA,sBADA;AACA;AACA,mBAFA;AAEA;AAEA;AACA;AACA,gBADA;AAEA,kBAFA;AAGA;AAHA;AALA;AAWA,GAdA;AAeA;AAEA;AACA,YAHA,sBAGA;AAAA;;AACA;AACA;AACA;AADA;AAGA,oGACA,IADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA,KAhBA;AAkBA;AACA,oBAnBA,4BAmBA,IAnBA,EAmBA;AAAA;;AACA;AACA,kGACA,IADA,CACA;AACA;AACA;AACA,OAJA;AAKA,KA1BA;AA4BA;AACA,cA7BA,sBA6BA,IA7BA,EA6BA;AAAA;;AAEA;AACA,+BADA;AAEA,kCAFA;AAGA;AAHA,SAIA,IAJA,CAIA;AAEA;AAEA,8FACA,IADA,CACA;AACA;AACA;;AACA;AACA,SALA;AAOA,OAfA,WAeA,aACA;AACA,OAjBA;AAmBA,KAlDA;AAoDA;AACA,uBArDA,+BAqDA,GArDA,EAqDA;AACA;AACA;AACA;AACA;AAzDA,GAfA;AA2EA,SA3EA,qBA2EA;AACA;AACA;AA7EA,G;;;;;;;;;;;AClDA,2BAA2B,mBAAO,CAAC,sGAAqD;AACxF;;;AAGA;AACA,cAAc,QAAS,cAAc,wBAAwB,GAAG,cAAc,wBAAwB,GAAG,iCAAiC,kBAAkB,mCAAmC,sBAAsB,GAAG,yDAAyD,kBAAkB,wBAAwB,oBAAoB,uBAAuB,wBAAwB,qBAAqB,wBAAwB,GAAG,wDAAwD,mBAAmB,GAAG;;AAE5f;;;;;;;;;;;;;ACNA,cAAc,mBAAO,CAAC,onBAAqW;;AAE3X,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,4GAAyD;;AAE9E;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACnBf;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS,0BAA0B;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yCAAyC;AACpD;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA,eAAe;AACf;AACA,4BAA4B,wCAAwC;AACpE;AACA;AACA;AACA;AACA;AACA,mBAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,qCAAqC;AACrC,2BAA2B;AAC3B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,kDAAkD;AACxE;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChJA;AAAA;AAAA;AAAA;AAAA;AAAyF;AAC3B;AACL;AACc;;;AAGvE;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA,wCAAgM,CAAgB,sPAAG,EAAC,C;;;;;;;;;;;;ACApN;AAAA;AAAA;AAAA;AAAqa,CAAgB,waAAG,EAAC,C;;;;;;;;;;;;ACAzb;AAAA;AAAA;AAAA;AAAA;AAAA","file":"4.js","sourcesContent":["<template>\n\n    <el-container v-loading=\"isLoading\" direction=\"vertical\">\n\n        <h3>Номера</h3>\n\n        <div class=\"controls\">\n            <el-button circle icon=\"el-icon-plus\" type=\"primary\" title=\"Добавить номер\" @click=\"$router.push({ name: 'rooms-create' })\"></el-button>\n        </div>\n\n        <el-card class=\"room-card\" v-for=\"room in roomsList\" :key=\"room.id\">\n\n            <div slot=\"header\" class=\"room-card__header\">\n                <span class=\"card-header__room-name\">{{room.name}}</span>\n                <div class=\"card-header__controls\">\n                    <el-button circle icon=\"el-icon-edit\" type=\"warning\" title=\"Редактировать\" @click=\"$router.push({ name: 'rooms-edit', params: {id: room.id} })\"></el-button>\n                    <el-button circle icon=\"el-icon-delete\" type=\"danger\" title=\"Удалить номер\" @click=\"deleteRoom(room)\"></el-button>\n                </div>\n            </div>\n\n            <el-switch\n                v-model=\"room.status\"\n                active-text=\"Вкл.\"\n                inactive-text=\"Выкл.\"\n                @change=\"changeRoomStatus(room)\"\n            ></el-switch>\n\n        </el-card>\n\n        <el-pagination\n            class=\"contact-pagination\"\n            background\n            :pager-count=\"5\"\n            :hide-on-single-page=\"true\"\n            layout=\"prev, pager, next\"\n            :total=\"paginatorData.total\"\n            :page-size=\"paginatorData.perPage\"\n            :current-page.sync=\"paginatorData.currentPage\"\n            @current-change=\"paginatorPageChange\"\n        ></el-pagination>\n\n    </el-container>\n\n</template>\n\n<script>\n\n    import Helpers from '../../components/helpers';\n    import Controller from '../../components/commonController';\n\n    export default {\n        name: \"RoomsIndex\",\n        data() {\n            return {\n                isLoading: false,   // Флаг отображения загрузки\n                roomsList: [],      // Список номеров\n\n                // Данные пагинатора\n                paginatorData: {\n                    total: 0,\n                    perPage: 0,\n                    currentPage: 1,\n                },\n            }\n        },\n        methods: {\n\n            // Получение всех номеров отеля\n            getRooms() {\n                this.isLoading = true;\n                let requestData = {\n                    page: this.paginatorData.currentPage,\n                };\n                Controller.getRoomList(requestData)\n                    .then(response => {\n                        this.roomsList = response.data.data;\n                        this.paginatorData.total = response.data.meta.total;\n                        this.paginatorData.perPage = response.data.meta.per_page;\n                        this.paginatorData.currentPage = response.data.meta.current_page;\n                        this.isLoading = false;\n                    });\n            },\n\n            // Изменение статуса Вкл./Выкл. у номера\n            changeRoomStatus(room) {\n                this.isLoading = true;\n                Controller.changeRoomStatus(room)\n                    .then(repsonse => {\n                        this.isLoading = false;\n                        Helpers.showSuccessMessage('Статус номера успешно изменен!');\n                    });\n            },\n\n            // Удалить номер\n            deleteRoom(room) {\n\n                this.$confirm(`Вы действительно хотите удалить номер ${room.name}?`, 'Удаление номера', {\n                    confirmButtonText: 'Да',\n                    cancelButtonText: 'Отмена',\n                    type: 'warning'\n                }).then(() => {\n\n                    this.isLoading = true;\n\n                    Controller.deleteRoom(room)\n                        .then(response => {\n                            this.isLoading = false;\n                            Helpers.showSuccessMessage('Номер успешно удален!');\n                            this.getRooms();\n                        });\n\n                }).catch(() => {\n                    // Клик по кнопке Отмена\n                });\n\n            },\n\n            // Смена страницы в пагинации\n            paginatorPageChange(val) {\n                this.paginatorData.currentPage = val;\n                window.scrollTo(0,0);\n                this.getRooms();\n            },\n\n        },\n        mounted() {\n            this.getRooms();\n        }\n    }\n\n</script>\n\n<style lang=\"scss\">\n\n    .controls {\n        margin-bottom: 20px;\n    }\n\n    .room-card {\n        margin-bottom: 20px;\n\n        .room-card__header {\n            display: flex;\n            justify-content: space-between;\n            flex-wrap: nowrap;\n\n            .card-header__room-name {\n                display: flex;\n                align-items: center;\n                font-size: 20px;\n                margin-right: 10px;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: clip;\n            }\n\n            .card-header__controls {\n                flex-shrink: 0;\n            }\n\n        }\n\n\n    }\n\n</style>\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".controls {\\n  margin-bottom: 20px;\\n}\\n.room-card {\\n  margin-bottom: 20px;\\n}\\n.room-card .room-card__header {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-wrap: nowrap;\\n}\\n.room-card .room-card__header .card-header__room-name {\\n  display: flex;\\n  align-items: center;\\n  font-size: 20px;\\n  margin-right: 10px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: clip;\\n}\\n.room-card .room-card__header .card-header__controls {\\n  flex-shrink: 0;\\n}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-container\",\n    {\n      directives: [\n        {\n          name: \"loading\",\n          rawName: \"v-loading\",\n          value: _vm.isLoading,\n          expression: \"isLoading\"\n        }\n      ],\n      attrs: { direction: \"vertical\" }\n    },\n    [\n      _c(\"h3\", [_vm._v(\"Номера\")]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"controls\" },\n        [\n          _c(\"el-button\", {\n            attrs: {\n              circle: \"\",\n              icon: \"el-icon-plus\",\n              type: \"primary\",\n              title: \"Добавить номер\"\n            },\n            on: {\n              click: function($event) {\n                return _vm.$router.push({ name: \"rooms-create\" })\n              }\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm._l(_vm.roomsList, function(room) {\n        return _c(\n          \"el-card\",\n          { key: room.id, staticClass: \"room-card\" },\n          [\n            _c(\n              \"div\",\n              {\n                staticClass: \"room-card__header\",\n                attrs: { slot: \"header\" },\n                slot: \"header\"\n              },\n              [\n                _c(\"span\", { staticClass: \"card-header__room-name\" }, [\n                  _vm._v(_vm._s(room.name))\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"card-header__controls\" },\n                  [\n                    _c(\"el-button\", {\n                      attrs: {\n                        circle: \"\",\n                        icon: \"el-icon-edit\",\n                        type: \"warning\",\n                        title: \"Редактировать\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.$router.push({\n                            name: \"rooms-edit\",\n                            params: { id: room.id }\n                          })\n                        }\n                      }\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"el-button\", {\n                      attrs: {\n                        circle: \"\",\n                        icon: \"el-icon-delete\",\n                        type: \"danger\",\n                        title: \"Удалить номер\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.deleteRoom(room)\n                        }\n                      }\n                    })\n                  ],\n                  1\n                )\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"el-switch\", {\n              attrs: { \"active-text\": \"Вкл.\", \"inactive-text\": \"Выкл.\" },\n              on: {\n                change: function($event) {\n                  return _vm.changeRoomStatus(room)\n                }\n              },\n              model: {\n                value: room.status,\n                callback: function($$v) {\n                  _vm.$set(room, \"status\", $$v)\n                },\n                expression: \"room.status\"\n              }\n            })\n          ],\n          1\n        )\n      }),\n      _vm._v(\" \"),\n      _c(\"el-pagination\", {\n        staticClass: \"contact-pagination\",\n        attrs: {\n          background: \"\",\n          \"pager-count\": 5,\n          \"hide-on-single-page\": true,\n          layout: \"prev, pager, next\",\n          total: _vm.paginatorData.total,\n          \"page-size\": _vm.paginatorData.perPage,\n          \"current-page\": _vm.paginatorData.currentPage\n        },\n        on: {\n          \"update:currentPage\": function($event) {\n            return _vm.$set(_vm.paginatorData, \"currentPage\", $event)\n          },\n          \"update:current-page\": function($event) {\n            return _vm.$set(_vm.paginatorData, \"currentPage\", $event)\n          },\n          \"current-change\": _vm.paginatorPageChange\n        }\n      })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RoomsIndex.vue?vue&type=template&id=1b6d88d0&\"\nimport script from \"./RoomsIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsIndex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/at/PhpstormProjects/hotel-management.local/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1b6d88d0')) {\n      api.createRecord('1b6d88d0', component.options)\n    } else {\n      api.reload('1b6d88d0', component.options)\n    }\n    module.hot.accept(\"./RoomsIndex.vue?vue&type=template&id=1b6d88d0&\", function () {\n      api.rerender('1b6d88d0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/rooms/RoomsIndex.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--7-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsIndex.vue?vue&type=template&id=1b6d88d0&\""],"sourceRoot":""}