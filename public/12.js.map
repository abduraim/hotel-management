{"version":3,"sources":["webpack:///resources/js/views/reservations/ReservationsCreate.vue","webpack:///./resources/js/views/reservations/ReservationsCreate.vue?a242","webpack:///./resources/js/views/reservations/ReservationsCreate.vue","webpack:///./resources/js/views/reservations/ReservationsCreate.vue?2b7e","webpack:///./resources/js/views/reservations/ReservationsCreate.vue?4f5b"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AAEA;AACA,4BADA;AAEA,MAFA,kBAEA;AACA;AACA,sBADA;AACA;AACA,sBAFA;AAGA;AACA,gCADA;AAEA,sCAFA;AAGA,yBAHA;AAIA;AACA,iCALA;AAMA,gCANA;AAOA,yBAPA;AAQA,4DARA;AASA,wIATA;AAUA;AAVA,OAHA;AAgBA;AACA;AACA,mBADA;AAEA,gBAFA;AAGA,mBAHA;AAIA,iBAJA;AAKA,iBALA;AAMA;AANA,OAjBA;AA0BA,+BA1BA;AA4BA;AA5BA;AA+BA,GAlCA;AAmCA;AACA;AADA,GAnCA;AAsCA;AAEA;AACA,YAHA,sBAGA;AAAA;;AAEA;AAEA,yFACA,IADA,CACA;AACA,yCADA,CAGA;;AACA;AACA;AACA;AACA;;AAEA;AACA,OAXA;AAaA,KApBA;AA2BA,YA3BA,oBA2BA,EA3BA,EA2BA,CACA;AACA;AACA,KA9BA;AAgCA,qBAhCA,6BAgCA,kBAhCA,EAgCA;AACA;AACA;AACA,KAnCA;AAqCA;AACA,iBAtCA,2BAsCA;AAAA;;AACA;AAEA;AAEA,mHACA,IADA,CACA;AACA;AACA;AACA;;AACA;AACA,OANA;AAQA,KAnDA,CAsDA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AA7EA,GAtCA;AAsHA,SAtHA,qBAsHA;AACA;AACA;AACA;AAzHA,G;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA,aAAa,SAAS,iBAAiB,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,eAAe,EAAE;AACvC;AACA;AACA,wBAAwB,6BAA6B;AACrD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,mBAAmB,EAAE;AAC3C;AACA;AACA,wBAAwB,iCAAiC;AACzD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,mBAAmB,EAAE;AAC3C;AACA;AACA,wBAAwB,iCAAiC;AACzD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,iBAAiB,EAAE;AACzC;AACA;AACA,wBAAwB,+BAA+B;AACvD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,6BAA6B,EAAE;AACrD;AACA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjNA;AAAA;AAAA;AAAA;AAAiG;AAC3B;AACL;;;AAGjE;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAwM,CAAgB,8PAAG,EAAC,C;;;;;;;;;;;;ACA5N;AAAA;AAAA;AAAA;AAAA;AAAA","file":"12.js","sourcesContent":["<template>\n\n    <el-container v-loading=\"isLoading\" direction=\"vertical\">\n\n        <h3>Создание нового бронирования</h3>\n\n        <el-form ref=\"form\" :model=\"formReservation\" label-width=\"200px\">\n\n            <el-form-item label=\"Номер\">\n                <el-select v-model=\"formReservation.room_id\" :disabled=\"selectRoomDisabled\" placeholder=\"Выберите номер\">\n                    <el-option\n                        v-for=\"room in rooms\"\n                        :key=\"room.id\"\n                        :label=\"room.name\"\n                        :value=\"room.id\"\n                        :disabled=\"!room.status\"\n                    ></el-option>\n                </el-select>\n            </el-form-item>\n\n            <el-form-item label=\"Имя\">\n                <el-input v-model=\"formReservation.name\" placeholder=\"Введите имя\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"Фамилия\">\n                <el-input v-model=\"formReservation.surname\" placeholder=\"Введите фамилию\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"Телефон\">\n                <el-input v-model=\"formReservation.phone\" placeholder=\"Введите телефон\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"Email\">\n                <el-input v-model=\"formReservation.email\" placeholder=\"Введите email\"></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"Даты бронирования\">\n                <functional-calendar\n                    v-model=\"formReservation.period\"\n                    :configs=\"calendarConfig\"\n                    @selectedDaysCount=\"selectedDaysCount\"\n                    @choseDay=\"choseDay\"\n                ></functional-calendar>\n            </el-form-item>\n\n            <el-form-item>\n\n                <el-button-group>\n\n                    <el-button\n                        type=\"plain\"\n                        @click=\"$router.push({ name: 'reservations-index'} )\"\n                        title=\"Отменить создание бронирования и вернуться\"\n                    >\n                        Отмена\n                    </el-button>\n\n                    <el-button\n                        type=\"success\"\n                        @click=\"doReservation\"\n                        title=\"Сохранить бронирование\"\n                    >\n                        Забронировать\n                    </el-button>\n\n                </el-button-group>\n\n            </el-form-item>\n\n        </el-form>\n\n    </el-container>\n\n</template>\n\n<script>\n\n    import Helpers from '../../components/helpers';\n    import Controller from '../../components/commonController';\n    import {FunctionalCalendar} from 'vue-functional-calendar';\n\n    export default {\n        name: \"ReservationsCreate\",\n        data() {\n            return {\n                isLoading: false,   // Флаг отображения загрузки\n                calendarData: {},\n                calendarConfig: {\n                    dateFormat: 'yyyy.mm.dd',\n                    disabledDates: ['beforeToday'],\n                    isDateRange: true,\n                    // withTimePicker: true,\n                    changeMonthFunction: true,\n                    changeYearFunction: true,\n                    changeYearStep: 1,\n                    dayNames: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс' ],\n                    monthNames: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n                    shortMonthNames: ['Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],\n                },\n\n                // Данные бронирования\n                formReservation: {\n                    room_id: '',\n                    name: '',\n                    surname: '',\n                    phone: '',\n                    email: '',\n                    period: {},\n                },\n\n                selectRoomDisabled: false,\n\n                rooms: [],\n\n            }\n        },\n        components: {\n            FunctionalCalendar,\n        },\n        methods: {\n\n            // Загрузка списка номеров\n            getRooms() {\n\n                this.isLoading = true;\n\n                Controller.getRoomList()\n                    .then(response => {\n                        this.rooms = response.data.data;\n\n                        // Если бронирование открыто на определнный номер\n                        if (this.$route.query.room_id) {\n                            this.formReservation.room_id = parseInt(this.$route.query.room_id);\n                            this.selectRoomDisabled = true;\n                        }\n\n                        this.isLoading = false;\n                    });\n\n            },\n\n\n\n\n\n\n            choseDay(ob) {\n                // console.log(this.formReservation.period.dateRange.start.date);\n                // console.log(this.formReservation.period.dateRange.end.date);\n            },\n\n            selectedDaysCount(selectedDaysAmount) {\n                console.log(this.formReservation.period.dateRange.start.date);\n                console.log(this.formReservation.period.dateRange.end.date);\n            },\n\n            // Клик по кнопке Забронировать\n            doReservation() {\n                console.log(this.formReservation);\n\n                this.isLoading = true;\n\n                Controller.createReservation(this.formReservation)\n                    .then(response => {\n                        if (response.status == 201) {\n                            Helpers.showSuccessMessage('Бронирование успешно создано!');\n                        }\n                        this.isLoading = false;\n                    })\n\n            },\n\n\n            // v-model=\"calendar\"\n\n            // :day-names=\"dayNames\" //dayNames=['Su','Mo','Tu','We','Th','Fr','Sa']\n            // :month-names=\"monthNames\" //monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]\n\n            // v-on:choseDay=\"clickDay\"\n            // v-on:changeMonth=\"changeDate\"\n            // v-on:isToday=\"clickToday\"\n\n            // :sundayStart=\"true\"\n\n            // :is-date-range=\"true\"\n            // :is-date-picker=\"true\"\n            // :is-modal=\"false\"\n\n            // :is-multiple=\"true\"\n            // :calendars-count=\"3\"\n\n            // :change-month-function=\"true\"\n            // :change-year-function=\"true\"\n\n            // :markDate=arr // arr=['2018/10/20','2018/10/28', '2018/10/16']\n            // :agoDayHide='1514937600' //Do not click before a date. Timestamp 10 digits\n            // :futureDayHide='1525104000' //Do not click after a date Timestamp 10 digits\n\n        },\n        mounted() {\n            this.getRooms();\n            console.log(this.$route.query);\n        },\n    }\n\n</script>\n\n<style lang=\"scss\">\n\n\n\n</style>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-container\",\n    {\n      directives: [\n        {\n          name: \"loading\",\n          rawName: \"v-loading\",\n          value: _vm.isLoading,\n          expression: \"isLoading\"\n        }\n      ],\n      attrs: { direction: \"vertical\" }\n    },\n    [\n      _c(\"h3\", [_vm._v(\"Создание нового бронирования\")]),\n      _vm._v(\" \"),\n      _c(\n        \"el-form\",\n        {\n          ref: \"form\",\n          attrs: { model: _vm.formReservation, \"label-width\": \"200px\" }\n        },\n        [\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"Номер\" } },\n            [\n              _c(\n                \"el-select\",\n                {\n                  attrs: {\n                    disabled: _vm.selectRoomDisabled,\n                    placeholder: \"Выберите номер\"\n                  },\n                  model: {\n                    value: _vm.formReservation.room_id,\n                    callback: function($$v) {\n                      _vm.$set(_vm.formReservation, \"room_id\", $$v)\n                    },\n                    expression: \"formReservation.room_id\"\n                  }\n                },\n                _vm._l(_vm.rooms, function(room) {\n                  return _c(\"el-option\", {\n                    key: room.id,\n                    attrs: {\n                      label: room.name,\n                      value: room.id,\n                      disabled: !room.status\n                    }\n                  })\n                }),\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"Имя\" } },\n            [\n              _c(\"el-input\", {\n                attrs: { placeholder: \"Введите имя\" },\n                model: {\n                  value: _vm.formReservation.name,\n                  callback: function($$v) {\n                    _vm.$set(_vm.formReservation, \"name\", $$v)\n                  },\n                  expression: \"formReservation.name\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"Фамилия\" } },\n            [\n              _c(\"el-input\", {\n                attrs: { placeholder: \"Введите фамилию\" },\n                model: {\n                  value: _vm.formReservation.surname,\n                  callback: function($$v) {\n                    _vm.$set(_vm.formReservation, \"surname\", $$v)\n                  },\n                  expression: \"formReservation.surname\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"Телефон\" } },\n            [\n              _c(\"el-input\", {\n                attrs: { placeholder: \"Введите телефон\" },\n                model: {\n                  value: _vm.formReservation.phone,\n                  callback: function($$v) {\n                    _vm.$set(_vm.formReservation, \"phone\", $$v)\n                  },\n                  expression: \"formReservation.phone\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"Email\" } },\n            [\n              _c(\"el-input\", {\n                attrs: { placeholder: \"Введите email\" },\n                model: {\n                  value: _vm.formReservation.email,\n                  callback: function($$v) {\n                    _vm.$set(_vm.formReservation, \"email\", $$v)\n                  },\n                  expression: \"formReservation.email\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            { attrs: { label: \"Даты бронирования\" } },\n            [\n              _c(\"functional-calendar\", {\n                attrs: { configs: _vm.calendarConfig },\n                on: {\n                  selectedDaysCount: _vm.selectedDaysCount,\n                  choseDay: _vm.choseDay\n                },\n                model: {\n                  value: _vm.formReservation.period,\n                  callback: function($$v) {\n                    _vm.$set(_vm.formReservation, \"period\", $$v)\n                  },\n                  expression: \"formReservation.period\"\n                }\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"el-form-item\",\n            [\n              _c(\n                \"el-button-group\",\n                [\n                  _c(\n                    \"el-button\",\n                    {\n                      attrs: {\n                        type: \"plain\",\n                        title: \"Отменить создание бронирования и вернуться\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.$router.push({\n                            name: \"reservations-index\"\n                          })\n                        }\n                      }\n                    },\n                    [_vm._v(\"\\n                    Отмена\\n                \")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"el-button\",\n                    {\n                      attrs: {\n                        type: \"success\",\n                        title: \"Сохранить бронирование\"\n                      },\n                      on: { click: _vm.doReservation }\n                    },\n                    [\n                      _vm._v(\n                        \"\\n                    Забронировать\\n                \"\n                      )\n                    ]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ReservationsCreate.vue?vue&type=template&id=2762bedc&\"\nimport script from \"./ReservationsCreate.vue?vue&type=script&lang=js&\"\nexport * from \"./ReservationsCreate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/at/PhpstormProjects/hotel-management.local/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2762bedc')) {\n      api.createRecord('2762bedc', component.options)\n    } else {\n      api.reload('2762bedc', component.options)\n    }\n    module.hot.accept(\"./ReservationsCreate.vue?vue&type=template&id=2762bedc&\", function () {\n      api.rerender('2762bedc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/views/reservations/ReservationsCreate.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReservationsCreate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReservationsCreate.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReservationsCreate.vue?vue&type=template&id=2762bedc&\""],"sourceRoot":""}